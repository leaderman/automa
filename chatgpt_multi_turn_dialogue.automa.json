{"extVersion":"1.29.9","name":"chatgpt_multi_turn_dialogue","icon":"riGlobalLine","table":[],"version":"1.29.9","drawflow":{"nodes":[{"id":"EwFpU-2Hsk4zQjwUuW5ut","type":"BlockBasic","initialized":false,"position":{"x":96,"y":107},"data":{"disableBlock":false,"description":"","type":"manual","interval":60,"delay":5,"date":"","time":"00:00","url":"","shortcut":"","activeInInput":false,"isUrlRegex":false,"days":[],"contextMenuName":"","contextTypes":[],"parameters":[],"preferParamsInTab":false,"observeElement":{"selector":"","baseSelector":"","matchPattern":"","targetOptions":{"subtree":false,"childList":true,"attributes":false,"attributeFilter":[],"characterData":false},"baseElOptions":{"subtree":false,"childList":true,"attributes":false,"attributeFilter":[],"characterData":false}},"triggers":[]},"label":"trigger"},{"id":"f4jo47a","type":"BlockBasic","initialized":false,"position":{"x":388,"y":107},"data":{"disableBlock":false,"description":"开启新对话","url":"{{variables.url}}","userAgent":"","active":true,"tabZoom":1,"inGroup":false,"waitTabLoaded":true,"updatePrevTab":false,"customUserAgent":false},"label":"new-tab"},{"id":"46q53gn","type":"BlockBasic","initialized":false,"position":{"x":1562,"y":107},"data":{"disableBlock":false,"description":"输入 Prompt","findBy":"cssSelector","waitForSelector":true,"waitSelectorTimeout":5000,"selector":"div#prompt-textarea","markEl":false,"multiple":false,"selected":true,"clearValue":true,"getValue":false,"saveData":false,"dataColumn":"","selectOptionBy":"value","optionPosition":"1","assignVariable":false,"variableName":"","type":"text-field","value":"{{variables.prompt}}","delay":"100","events":[]},"label":"forms"},{"id":"mspcm9z","type":"BlockBasic","initialized":false,"position":{"x":1854,"y":107},"data":{"description":"发送 Prompt","disableBlock":false,"findBy":"cssSelector","markEl":false,"multiple":false,"selector":"button#composer-submit-button","waitForSelector":true,"waitSelectorTimeout":5000},"label":"event-click"},{"id":"aptkqi7","type":"BlockBasic","initialized":false,"position":{"x":680,"y":107},"data":{"disableBlock":false,"description":"初始化","timeout":20000,"context":"website","code":"automaSetVariable(\"copyAttempt\", 0);\nautomaSetVariable(\"output\", \"\");\n\nautomaNextBlock();","preloadScripts":[],"everyNewTab":false,"runBeforeLoad":false},"label":"javascript-code"},{"id":"fqarj0p","type":"BlockBasicWithFallback","initialized":false,"position":{"x":2146,"y":107},"data":{"disableBlock":false,"description":"循环等待复制按钮","conditions":[{"id":"3tdpNLlUiOzwdROB6Rqww","conditions":[{"id":"98n0IXBAv4CI8xN0NmbiU","items":[{"type":"element#notExists","category":"value","data":{"selector":"button[data-testid=\"copy-turn-action-button\"]"},"id":"PRQjMdcb7Z7exA-cuuEUC"}]},{"id":"bfRbWHbdfUbTrq-oLXjWL","items":[{"type":"value","category":"value","data":{"value":"{{variables.copyAttempt}}"},"id":"vlx-2TdEEjPsXiDQWmCLF"},{"category":"compare","type":"lte","id":"khqPwuYtynjSPgXMVaml4"},{"type":"value","category":"value","data":{"value":"{{globalData.copyAttemptMax}}"},"id":"EAGQtxtFPRSfo9M7QQWQy"}]}]}]},"label":"while-loop"},{"id":"k200s4z","type":"BlockBasic","initialized":false,"position":{"x":2439.5,"y":36},"data":{"description":"等待复制次数加一","disableBlock":false,"increaseBy":1,"variableName":"copyAttempt"},"label":"increase-variable"},{"id":"spnsbbc","type":"BlockDelay","initialized":false,"position":{"x":2733,"y":71.5},"data":{"disableBlock":false,"time":"{{globalData.copyAttemptInterval}}"},"label":"delay"},{"id":"e5fsu5h","type":"BlockElementExists","initialized":false,"position":{"x":2439.5,"y":279.75},"data":{"disableBlock":false,"description":"检查复制按钮","findBy":"cssSelector","selector":"button[data-testid=\"copy-turn-action-button\"]","tryCount":1,"timeout":500,"markEl":false,"throwError":false},"label":"element-exists"},{"id":"6u46cbg","type":"BlockBasic","initialized":false,"position":{"x":2733,"y":233},"data":{"disableBlock":false,"description":"复制输出","findBy":"cssSelector","waitForSelector":false,"waitSelectorTimeout":5000,"selector":"button[data-testid=\"copy-turn-action-button\"]","markEl":false,"multiple":false},"label":"event-click"},{"id":"0dzrc1y","type":"BlockDelay","initialized":false,"position":{"x":3025,"y":233},"data":{"disableBlock":false,"time":"{{globalData.copyWait}}"},"label":"delay"},{"id":"21jwywe","type":"BlockBasic","initialized":false,"position":{"x":3317,"y":233},"data":{"assignVariable":true,"copySelectedText":false,"dataColumn":"","dataToCopy":"","description":"获取输出","disableBlock":false,"saveData":false,"type":"get","variableName":"output"},"label":"clipboard"},{"id":"4j0fmx0","type":"BlockBasic","initialized":false,"position":{"x":3609,"y":233},"data":{"assignVariable":true,"dataColumn":"","description":"获取链接","disableBlock":false,"qMatchPatterns":"","qTitle":"","saveData":false,"type":"active-tab","variableName":"url"},"label":"tab-url"},{"id":"y9xjs8n","type":"BlockBasic","initialized":false,"position":{"x":3901,"y":279.75},"data":{"disableBlock":false,"url":"","description":"关闭标签页","activeTab":true,"closeType":"tab","allWindows":false},"label":"close-tab"},{"id":"yxvqvwi","type":"BlockElementExists","initialized":false,"position":{"x":973.5,"y":107},"data":{"disableBlock":false,"description":"检查提示语","findBy":"cssSelector","selector":"div#thread h1","tryCount":1,"timeout":500,"markEl":false,"throwError":false},"label":"element-exists"},{"id":"yumw5e8","type":"BlockElementExists","initialized":false,"position":{"x":1268.5,"y":197.5},"data":{"disableBlock":false,"description":"等待加载对话","findBy":"cssSelector","selector":"div#thread article","tryCount":60,"timeout":1000,"markEl":false,"throwError":false},"label":"element-exists"}],"edges":[{"id":"vueflow__edge-46q53gn46q53gn-output-1-mspcm9zmspcm9z-input-1","type":"custom","source":"46q53gn","target":"mspcm9z","sourceHandle":"46q53gn-output-1","targetHandle":"mspcm9z-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":1777.9995827185662,"sourceY":142.99994571209862,"targetX":1830.0001203092609,"targetY":142.99994571209862},{"id":"vueflow__edge-mspcm9zmspcm9z-output-1-fqarj0pfqarj0p-input-1","type":"custom","source":"mspcm9z","target":"fqarj0p","sourceHandle":"mspcm9z-output-1","targetHandle":"fqarj0p-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2069.9996860060496,"sourceY":142.99994571209862,"targetX":2121.999913734294,"targetY":154.99991137933907},{"id":"vueflow__edge-fqarj0pfqarj0p-output-1-k200s4zk200s4z-input-1","type":"custom","source":"fqarj0p","target":"k200s4z","sourceHandle":"fqarj0p-output-1","targetHandle":"k200s4z-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2361.999479431083,"sourceY":154.99991137933907,"targetX":2415.500120309261,"targetY":71.99994571209862},{"id":"vueflow__edge-spnsbbcspnsbbc-output-1-fqarj0pfqarj0p-input-1","type":"custom","source":"spnsbbc","target":"fqarj0p","sourceHandle":"spnsbbc-output-1","targetHandle":"fqarj0p-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2948.999479431083,"sourceY":130.0858455741396,"targetX":2121.999913734294,"targetY":154.99991137933907},{"id":"vueflow__edge-fqarj0pfqarj0p-output-fallback-e5fsu5he5fsu5h-input-1","type":"custom","source":"fqarj0p","target":"e5fsu5h","sourceHandle":"fqarj0p-output-fallback","targetHandle":"e5fsu5h-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2361.999479431083,"sourceY":176.9998871687529,"targetX":2415.500120309261,"targetY":352.3357667864471},{"id":"vueflow__edge-e5fsu5he5fsu5h-output-1-6u46cbg6u46cbg-input-1","type":"custom","source":"e5fsu5h","target":"6u46cbg","sourceHandle":"e5fsu5h-output-1","targetHandle":"6u46cbg-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2658.4995676799085,"sourceY":352.3357667864471,"targetX":2709.000120309261,"targetY":268.9998940683568},{"id":"vueflow__edge-6u46cbg6u46cbg-output-1-0dzrc1y0dzrc1y-input-1","type":"custom","source":"6u46cbg","target":"0dzrc1y","sourceHandle":"6u46cbg-output-1","targetHandle":"0dzrc1y-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2948.999479431083,"sourceY":268.9998940683568,"targetX":3001.000120309261,"targetY":291.5857681085269},{"id":"vueflow__edge-0dzrc1y0dzrc1y-output-1-21jwywe21jwywe-input-1","type":"custom","source":"0dzrc1y","target":"21jwywe","sourceHandle":"0dzrc1y-output-1","targetHandle":"21jwywe-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":3240.9996860060496,"sourceY":291.5857681085269,"targetX":3292.999913734294,"targetY":268.9998940683568},{"id":"vueflow__edge-21jwywe21jwywe-output-1-4j0fmx04j0fmx0-input-1","type":"custom","source":"21jwywe","target":"4j0fmx0","sourceHandle":"21jwywe-output-1","targetHandle":"4j0fmx0-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":3532.999479431083,"sourceY":268.9998940683568,"targetX":3585.000120309261,"targetY":268.9998940683568},{"id":"vueflow__edge-4j0fmx04j0fmx0-output-1-y9xjs8ny9xjs8n-input-1","type":"custom","source":"4j0fmx0","target":"y9xjs8n","sourceHandle":"4j0fmx0-output-1","targetHandle":"y9xjs8n-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":3824.999479431083,"sourceY":268.9998940683568,"targetX":3877.000120309261,"targetY":315.7499457120986},{"id":"vueflow__edge-e5fsu5he5fsu5h-output-2-y9xjs8ny9xjs8n-input-1","type":"custom","source":"e5fsu5h","target":"y9xjs8n","sourceHandle":"e5fsu5h-output-2","targetHandle":"y9xjs8n-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2658.4995676799085,"sourceY":396.9294148210433,"targetX":3877.000120309261,"targetY":315.7499457120986},{"id":"vueflow__edge-k200s4zk200s4z-output-1-spnsbbcspnsbbc-input-1","type":"custom","source":"k200s4z","target":"spnsbbc","sourceHandle":"k200s4z-output-1","targetHandle":"spnsbbc-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":2655.4996860060496,"sourceY":71.99994571209862,"targetX":2709.000120309261,"targetY":130.0858455741396},{"id":"vueflow__edge-EwFpU-2Hsk4zQjwUuW5utEwFpU-2Hsk4zQjwUuW5ut-output-1-f4jo47af4jo47a-input-1","type":"custom","source":"EwFpU-2Hsk4zQjwUuW5ut","target":"f4jo47a","sourceHandle":"EwFpU-2Hsk4zQjwUuW5ut-output-1","targetHandle":"f4jo47a-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","class":"source-EwFpU-2Hsk4zQjwUuW5ut-output-1 target-f4jo47a-input-1","sourceX":311.9995827185662,"sourceY":142.99994571209862,"targetX":364.0000170217773,"targetY":142.99994571209862},{"id":"vueflow__edge-f4jo47af4jo47a-output-1-aptkqi7aptkqi7-input-1","type":"custom","source":"f4jo47a","target":"aptkqi7","sourceHandle":"f4jo47a-output-1","targetHandle":"aptkqi7-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":603.9995827185662,"sourceY":142.99994571209862,"targetX":656.000068665519,"targetY":142.99994571209862},{"id":"vueflow__edge-aptkqi7aptkqi7-output-1-yxvqvwiyxvqvwi-input-1","type":"custom","source":"aptkqi7","target":"yxvqvwi","sourceHandle":"aptkqi7-output-1","targetHandle":"yxvqvwi-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","sourceX":895.9995827185662,"sourceY":142.99994571209862,"targetX":949.5001203092609,"targetY":179.585792608318},{"id":"vueflow__edge-yxvqvwiyxvqvwi-output-1-46q53gn46q53gn-input-1","type":"custom","source":"yxvqvwi","target":"46q53gn","sourceHandle":"yxvqvwi-output-1","targetHandle":"46q53gn-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","class":"source-yxvqvwi-output-1 target-46q53gn-input-1","sourceX":1192.4995676799085,"sourceY":179.585792608318,"targetX":1538.0000170217772,"targetY":142.99994571209862},{"id":"vueflow__edge-yxvqvwiyxvqvwi-output-2-yumw5e8yumw5e8-input-1","type":"custom","source":"yxvqvwi","target":"yumw5e8","sourceHandle":"yxvqvwi-output-2","targetHandle":"yumw5e8-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","class":"connected-edges","sourceX":1192.4995676799085,"sourceY":224.17941482104328,"targetX":1244.4999866209535,"targetY":270.08594254504646},{"id":"vueflow__edge-yumw5e8yumw5e8-output-1-46q53gn46q53gn-input-1","type":"custom","source":"yumw5e8","target":"46q53gn","sourceHandle":"yumw5e8-output-1","targetHandle":"46q53gn-input-1","updatable":true,"selectable":true,"data":{},"label":"","markerEnd":"arrowclosed","class":"connected-edges","sourceX":1487.4996384085728,"sourceY":270.08594254504646,"targetX":1538.0000170217772,"targetY":142.99994571209862}],"position":[50.45229376577913,588.0794686924285],"zoom":0.48581890963677293,"viewport":{"x":50.45229376577913,"y":588.0794686924285,"zoom":0.48581890963677293}},"settings":{"publicId":"","restartTimes":3,"notification":true,"tabLoadTimeout":30000,"inputAutocomplete":true,"insertDefaultColumn":false,"defaultColumnName":"column","blockDelay":0,"debugMode":false,"execContext":"popup","executedBlockOnWeb":false,"onError":"stop-workflow","reuseLastState":false,"saveLog":true},"globalData":"{\n\t\"copyAttemptInterval\": 1000,\n  \"copyAttemptMax\": 60,\n  \"copyWait\": 3000\n}","description":"ChatGPT 多轮对话","includedWorkflows":{}}